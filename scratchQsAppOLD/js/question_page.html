<!DOCTYPE>

<html>
<head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>

<title>Questions</title>

<link rel="stylesheet" type="text/css" href="scratchQs/templates/main.css">
</head>
<body>
  Type in your question below! <br>
  <input id="user_q" type="text" maxlength="100" >
  <input type="submit" value="Submit" onclick="insert()" >
  <input id="user_rep" type="text" placeholder="Enter reply" style="display:none" onkeydown="insertAns(this)">
  <br>
  <br>



</div>
<div id="q_list"></div>

<div id="r_list"></div>

</body>
</html>

<script>
var questions = [];
var answers = [];
 
questions.push({question:"What's good in cafe mac today",answers:"Nothing."});
questions.push({question:"Should I declare my comp sci major?",answers:"Yes"});
for (var i = 0; i < questions.length; i++) {
            //TODO: move styles to question class in styles.css
  $("#q_list").append($("<div class='question' style='border-style:solid; width: 500px; margin-bottom:6px'>")
  .append($("<p>").append(questions[i].question))
  .append($("<p>").append(questions[i].answers)))
  .append('<input id="user_answer" type="text" maxlength="100">')
  .append('<input type="submit" value="Add a new answer" onclick="insertAns(this)"></div><p>');
}

var newQuestion = document.getElementById("user_q");
function insert () {
    display();
    clearQ();
}

function display(){
  questions.push({questions: newQuestion.value})
  $("#q_list").append($("<div class='question' style='border-style:solid; width: 500px; margin-bottom:6px'>")
  .append($("<p>").append(questions[questions.length-1].questions))
  .append($("<p>").append($("#user_rep").show())));
}

function clearQ(){
  newQuestion.value = "";
}

var newAnswer = document.getElementById("user_rep");
function insertAns(ele) {
  if(event.keyCode == 13) {
    displayAns();
    clearAns();
  }
}
function displayAns(){
  answers.push({answers: newAnswer.value})
  $("#q_list").append($("<p>").append(answers[answers.length-1].answers));
}
function clearAns() {
  newAnswer.value = "";
}
</script>
